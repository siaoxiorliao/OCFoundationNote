{"index":{"version":"0.5.12","fields":[{"name":"title","boost":10},{"name":"keywords","boost":15},{"name":"body","boost":1}],"ref":"url","documentStore":{"store":{"./":["introduct","ocfoundationnot","学习oc基础教程的笔记"],"copy.html":["(1)在initwithstring方法中内部机制实际上进行了copy,而copy分为深拷贝和浅拷贝","(2)copy方法又分为copy和mutablecopy,copy默认告诉编译器我要你生成不可变对象,mutable生成可变对象","(3)","alloc","copi","copy机制与initwithstring原理","init了新的对象,所以这个方法不管怎么样,都会返回一个新的对象给你接收initwithstring:","init或类工厂方法创建对象时存储在堆区,需要内存管理,该方式会生成新对象或只是对原有对象进行引用,具体是由xcode版本或是平台(ios,mac","os)即编译器决定的,可以自己测试编译器机制.","同理,若接收的是可变对象,两个对象性质不一样,就会创建新的对象返回给你,是深拷贝.","在stringwithformat中的内部机制实际上是","我的理解应该是对的","用常量创建方式,存储指针存储在常量区,不需要内存管理.","若你传入的是不可变对象,接受的是不可变对象,考虑到拷贝的意义(不管你需求怎么样,传入和接收的都是不可变的,这个拷贝没有意义,实际上这是编译器的优化),所以这是浅拷贝,不会返回新的对象,但是会让你的指针和传入对象的指针指向同一个对象.","若你传入的是可变对象,接收的是不可变对象或是可变对象,考虑到拷贝的意义(拷贝不会影响源文件,对源文件编辑不会影响拷贝出的文件,对拷贝出的文件编辑不会影响源文件),会是深拷贝,所以编译器肯定会为你创建一个新的对象并返回给你."],"block.html":["block中copy和block加载","block在栈中,block使用的对象是深拷贝,在堆中则是浅拷贝","如果block不是copy(默认栈区)的,那么block加载到代码区即完成了copy一个新对象的过程,两个1也是2","如果block用到了对象自己(p.name),那么用block修饰(浅拷贝))可以让编译器不会对对象进行一次retain(","实际上在这里,block在还没有调用之前已经加载到代码区了,所以block如果是copy(被转移到堆区)的,就已经对d进行了一次新的引用,计数器为2","对num进行block修饰,则进行得是浅拷贝,对原有对象计数器+1,不会产生新的对象","对属性进行copy修饰,可以防止外界修改内部数据","跟下图一样)"]},"length":3},"tokenStore":{"root":{"docs":{},"i":{"docs":{},"n":{"docs":{},"t":{"docs":{},"r":{"docs":{},"o":{"docs":{},"d":{"docs":{},"u":{"docs":{},"c":{"docs":{},"t":{"docs":{"./":{"ref":"./","tf":10}}}}}}}}},"i":{"docs":{},"t":{"docs":{},"了":{"docs":{},"新":{"docs":{},"的":{"docs":{},"对":{"docs":{},"象":{"docs":{},",":{"docs":{},"所":{"docs":{},"以":{"docs":{},"这":{"docs":{},"个":{"docs":{},"方":{"docs":{},"法":{"docs":{},"不":{"docs":{},"管":{"docs":{},"怎":{"docs":{},"么":{"docs":{},"样":{"docs":{},",":{"docs":{},"都":{"docs":{},"会":{"docs":{},"返":{"docs":{},"回":{"docs":{},"一":{"docs":{},"个":{"docs":{},"新":{"docs":{},"的":{"docs":{},"对":{"docs":{},"象":{"docs":{},"给":{"docs":{},"你":{"docs":{},"接":{"docs":{},"收":{"docs":{},"i":{"docs":{},"n":{"docs":{},"i":{"docs":{},"t":{"docs":{},"w":{"docs":{},"i":{"docs":{},"t":{"docs":{},"h":{"docs":{},"s":{"docs":{},"t":{"docs":{},"r":{"docs":{},"i":{"docs":{},"n":{"docs":{},"g":{"docs":{},":":{"docs":{"copy.html":{"ref":"copy.html","tf":0.06666666666666667}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"或":{"docs":{},"类":{"docs":{},"工":{"docs":{},"厂":{"docs":{},"方":{"docs":{},"法":{"docs":{},"创":{"docs":{},"建":{"docs":{},"对":{"docs":{},"象":{"docs":{},"时":{"docs":{},"存":{"docs":{},"储":{"docs":{},"在":{"docs":{},"堆":{"docs":{},"区":{"docs":{},",":{"docs":{},"需":{"docs":{},"要":{"docs":{},"内":{"docs":{},"存":{"docs":{},"管":{"docs":{},"理":{"docs":{},",":{"docs":{},"该":{"docs":{},"方":{"docs":{},"式":{"docs":{},"会":{"docs":{},"生":{"docs":{},"成":{"docs":{},"新":{"docs":{},"对":{"docs":{},"象":{"docs":{},"或":{"docs":{},"只":{"docs":{},"是":{"docs":{},"对":{"docs":{},"原":{"docs":{},"有":{"docs":{},"对":{"docs":{},"象":{"docs":{},"进":{"docs":{},"行":{"docs":{},"引":{"docs":{},"用":{"docs":{},",":{"docs":{},"具":{"docs":{},"体":{"docs":{},"是":{"docs":{},"由":{"docs":{},"x":{"docs":{},"c":{"docs":{},"o":{"docs":{},"d":{"docs":{},"e":{"docs":{},"版":{"docs":{},"本":{"docs":{},"或":{"docs":{},"是":{"docs":{},"平":{"docs":{},"台":{"docs":{},"(":{"docs":{},"i":{"docs":{},"o":{"docs":{},"s":{"docs":{},",":{"docs":{},"m":{"docs":{},"a":{"docs":{},"c":{"docs":{"copy.html":{"ref":"copy.html","tf":0.06666666666666667}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"o":{"docs":{},"c":{"docs":{},"f":{"docs":{},"o":{"docs":{},"u":{"docs":{},"n":{"docs":{},"d":{"docs":{},"a":{"docs":{},"t":{"docs":{},"i":{"docs":{},"o":{"docs":{},"n":{"docs":{},"n":{"docs":{},"o":{"docs":{},"t":{"docs":{"./":{"ref":"./","tf":0.5}}}}}}}}}}}}}}}},"s":{"docs":{},")":{"docs":{},"即":{"docs":{},"编":{"docs":{},"译":{"docs":{},"器":{"docs":{},"决":{"docs":{},"定":{"docs":{},"的":{"docs":{},",":{"docs":{},"可":{"docs":{},"以":{"docs":{},"自":{"docs":{},"己":{"docs":{},"测":{"docs":{},"试":{"docs":{},"编":{"docs":{},"译":{"docs":{},"器":{"docs":{},"机":{"docs":{},"制":{"docs":{},".":{"docs":{"copy.html":{"ref":"copy.html","tf":0.06666666666666667}}}}}}}}}}}}}}}}}}}}}}}}},"学":{"docs":{},"习":{"docs":{},"o":{"docs":{},"c":{"docs":{},"基":{"docs":{},"础":{"docs":{},"教":{"docs":{},"程":{"docs":{},"的":{"docs":{},"笔":{"docs":{},"记":{"docs":{"./":{"ref":"./","tf":0.5}}}}}}}}}}}}},"(":{"1":{"docs":{},")":{"docs":{},"在":{"docs":{},"i":{"docs":{},"n":{"docs":{},"i":{"docs":{},"t":{"docs":{},"w":{"docs":{},"i":{"docs":{},"t":{"docs":{},"h":{"docs":{},"s":{"docs":{},"t":{"docs":{},"r":{"docs":{},"i":{"docs":{},"n":{"docs":{},"g":{"docs":{},"方":{"docs":{},"法":{"docs":{},"中":{"docs":{},"内":{"docs":{},"部":{"docs":{},"机":{"docs":{},"制":{"docs":{},"实":{"docs":{},"际":{"docs":{},"上":{"docs":{},"进":{"docs":{},"行":{"docs":{},"了":{"docs":{},"c":{"docs":{},"o":{"docs":{},"p":{"docs":{},"y":{"docs":{},",":{"docs":{},"而":{"docs":{},"c":{"docs":{},"o":{"docs":{},"p":{"docs":{},"y":{"docs":{},"分":{"docs":{},"为":{"docs":{},"深":{"docs":{},"拷":{"docs":{},"贝":{"docs":{},"和":{"docs":{},"浅":{"docs":{},"拷":{"docs":{},"贝":{"docs":{"copy.html":{"ref":"copy.html","tf":0.06666666666666667}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"2":{"docs":{},")":{"docs":{},"c":{"docs":{},"o":{"docs":{},"p":{"docs":{},"y":{"docs":{},"方":{"docs":{},"法":{"docs":{},"又":{"docs":{},"分":{"docs":{},"为":{"docs":{},"c":{"docs":{},"o":{"docs":{},"p":{"docs":{},"y":{"docs":{},"和":{"docs":{},"m":{"docs":{},"u":{"docs":{},"t":{"docs":{},"a":{"docs":{},"b":{"docs":{},"l":{"docs":{},"e":{"docs":{},"c":{"docs":{},"o":{"docs":{},"p":{"docs":{},"y":{"docs":{},",":{"docs":{},"c":{"docs":{},"o":{"docs":{},"p":{"docs":{},"y":{"docs":{},"默":{"docs":{},"认":{"docs":{},"告":{"docs":{},"诉":{"docs":{},"编":{"docs":{},"译":{"docs":{},"器":{"docs":{},"我":{"docs":{},"要":{"docs":{},"你":{"docs":{},"生":{"docs":{},"成":{"docs":{},"不":{"docs":{},"可":{"docs":{},"变":{"docs":{},"对":{"docs":{},"象":{"docs":{},",":{"docs":{},"m":{"docs":{},"u":{"docs":{},"t":{"docs":{},"a":{"docs":{},"b":{"docs":{},"l":{"docs":{},"e":{"docs":{},"生":{"docs":{},"成":{"docs":{},"可":{"docs":{},"变":{"docs":{},"对":{"docs":{},"象":{"docs":{"copy.html":{"ref":"copy.html","tf":0.06666666666666667}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"3":{"docs":{},")":{"docs":{"copy.html":{"ref":"copy.html","tf":0.06666666666666667}}}},"docs":{}},"a":{"docs":{},"l":{"docs":{},"l":{"docs":{},"o":{"docs":{},"c":{"docs":{"copy.html":{"ref":"copy.html","tf":0.06666666666666667}}}}}}},"c":{"docs":{},"o":{"docs":{},"p":{"docs":{},"i":{"docs":{"copy.html":{"ref":"copy.html","tf":0.06666666666666667}}},"y":{"docs":{},"机":{"docs":{},"制":{"docs":{},"与":{"docs":{},"i":{"docs":{},"n":{"docs":{},"i":{"docs":{},"t":{"docs":{},"w":{"docs":{},"i":{"docs":{},"t":{"docs":{},"h":{"docs":{},"s":{"docs":{},"t":{"docs":{},"r":{"docs":{},"i":{"docs":{},"n":{"docs":{},"g":{"docs":{},"原":{"docs":{},"理":{"docs":{"copy.html":{"ref":"copy.html","tf":10.066666666666666}}}}}}}}}}}}}}}}}}}}}}}}},"同":{"docs":{},"理":{"docs":{},",":{"docs":{},"若":{"docs":{},"接":{"docs":{},"收":{"docs":{},"的":{"docs":{},"是":{"docs":{},"可":{"docs":{},"变":{"docs":{},"对":{"docs":{},"象":{"docs":{},",":{"docs":{},"两":{"docs":{},"个":{"docs":{},"对":{"docs":{},"象":{"docs":{},"性":{"docs":{},"质":{"docs":{},"不":{"docs":{},"一":{"docs":{},"样":{"docs":{},",":{"docs":{},"就":{"docs":{},"会":{"docs":{},"创":{"docs":{},"建":{"docs":{},"新":{"docs":{},"的":{"docs":{},"对":{"docs":{},"象":{"docs":{},"返":{"docs":{},"回":{"docs":{},"给":{"docs":{},"你":{"docs":{},",":{"docs":{},"是":{"docs":{},"深":{"docs":{},"拷":{"docs":{},"贝":{"docs":{},".":{"docs":{"copy.html":{"ref":"copy.html","tf":0.06666666666666667}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"在":{"docs":{},"s":{"docs":{},"t":{"docs":{},"r":{"docs":{},"i":{"docs":{},"n":{"docs":{},"g":{"docs":{},"w":{"docs":{},"i":{"docs":{},"t":{"docs":{},"h":{"docs":{},"f":{"docs":{},"o":{"docs":{},"r":{"docs":{},"m":{"docs":{},"a":{"docs":{},"t":{"docs":{},"中":{"docs":{},"的":{"docs":{},"内":{"docs":{},"部":{"docs":{},"机":{"docs":{},"制":{"docs":{},"实":{"docs":{},"际":{"docs":{},"上":{"docs":{},"是":{"docs":{"copy.html":{"ref":"copy.html","tf":0.06666666666666667}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"我":{"docs":{},"的":{"docs":{},"理":{"docs":{},"解":{"docs":{},"应":{"docs":{},"该":{"docs":{},"是":{"docs":{},"对":{"docs":{},"的":{"docs":{"copy.html":{"ref":"copy.html","tf":0.06666666666666667}}}}}}}}}}},"用":{"docs":{},"常":{"docs":{},"量":{"docs":{},"创":{"docs":{},"建":{"docs":{},"方":{"docs":{},"式":{"docs":{},",":{"docs":{},"存":{"docs":{},"储":{"docs":{},"指":{"docs":{},"针":{"docs":{},"存":{"docs":{},"储":{"docs":{},"在":{"docs":{},"常":{"docs":{},"量":{"docs":{},"区":{"docs":{},",":{"docs":{},"不":{"docs":{},"需":{"docs":{},"要":{"docs":{},"内":{"docs":{},"存":{"docs":{},"管":{"docs":{},"理":{"docs":{},".":{"docs":{"copy.html":{"ref":"copy.html","tf":0.06666666666666667}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"若":{"docs":{},"你":{"docs":{},"传":{"docs":{},"入":{"docs":{},"的":{"docs":{},"是":{"docs":{},"不":{"docs":{},"可":{"docs":{},"变":{"docs":{},"对":{"docs":{},"象":{"docs":{},",":{"docs":{},"接":{"docs":{},"受":{"docs":{},"的":{"docs":{},"是":{"docs":{},"不":{"docs":{},"可":{"docs":{},"变":{"docs":{},"对":{"docs":{},"象":{"docs":{},",":{"docs":{},"考":{"docs":{},"虑":{"docs":{},"到":{"docs":{},"拷":{"docs":{},"贝":{"docs":{},"的":{"docs":{},"意":{"docs":{},"义":{"docs":{},"(":{"docs":{},"不":{"docs":{},"管":{"docs":{},"你":{"docs":{},"需":{"docs":{},"求":{"docs":{},"怎":{"docs":{},"么":{"docs":{},"样":{"docs":{},",":{"docs":{},"传":{"docs":{},"入":{"docs":{},"和":{"docs":{},"接":{"docs":{},"收":{"docs":{},"的":{"docs":{},"都":{"docs":{},"是":{"docs":{},"不":{"docs":{},"可":{"docs":{},"变":{"docs":{},"的":{"docs":{},",":{"docs":{},"这":{"docs":{},"个":{"docs":{},"拷":{"docs":{},"贝":{"docs":{},"没":{"docs":{},"有":{"docs":{},"意":{"docs":{},"义":{"docs":{},",":{"docs":{},"实":{"docs":{},"际":{"docs":{},"上":{"docs":{},"这":{"docs":{},"是":{"docs":{},"编":{"docs":{},"译":{"docs":{},"器":{"docs":{},"的":{"docs":{},"优":{"docs":{},"化":{"docs":{},")":{"docs":{},",":{"docs":{},"所":{"docs":{},"以":{"docs":{},"这":{"docs":{},"是":{"docs":{},"浅":{"docs":{},"拷":{"docs":{},"贝":{"docs":{},",":{"docs":{},"不":{"docs":{},"会":{"docs":{},"返":{"docs":{},"回":{"docs":{},"新":{"docs":{},"的":{"docs":{},"对":{"docs":{},"象":{"docs":{},",":{"docs":{},"但":{"docs":{},"是":{"docs":{},"会":{"docs":{},"让":{"docs":{},"你":{"docs":{},"的":{"docs":{},"指":{"docs":{},"针":{"docs":{},"和":{"docs":{},"传":{"docs":{},"入":{"docs":{},"对":{"docs":{},"象":{"docs":{},"的":{"docs":{},"指":{"docs":{},"针":{"docs":{},"指":{"docs":{},"向":{"docs":{},"同":{"docs":{},"一":{"docs":{},"个":{"docs":{},"对":{"docs":{},"象":{"docs":{},".":{"docs":{"copy.html":{"ref":"copy.html","tf":0.06666666666666667}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"可":{"docs":{},"变":{"docs":{},"对":{"docs":{},"象":{"docs":{},",":{"docs":{},"接":{"docs":{},"收":{"docs":{},"的":{"docs":{},"是":{"docs":{},"不":{"docs":{},"可":{"docs":{},"变":{"docs":{},"对":{"docs":{},"象":{"docs":{},"或":{"docs":{},"是":{"docs":{},"可":{"docs":{},"变":{"docs":{},"对":{"docs":{},"象":{"docs":{},",":{"docs":{},"考":{"docs":{},"虑":{"docs":{},"到":{"docs":{},"拷":{"docs":{},"贝":{"docs":{},"的":{"docs":{},"意":{"docs":{},"义":{"docs":{},"(":{"docs":{},"拷":{"docs":{},"贝":{"docs":{},"不":{"docs":{},"会":{"docs":{},"影":{"docs":{},"响":{"docs":{},"源":{"docs":{},"文":{"docs":{},"件":{"docs":{},",":{"docs":{},"对":{"docs":{},"源":{"docs":{},"文":{"docs":{},"件":{"docs":{},"编":{"docs":{},"辑":{"docs":{},"不":{"docs":{},"会":{"docs":{},"影":{"docs":{},"响":{"docs":{},"拷":{"docs":{},"贝":{"docs":{},"出":{"docs":{},"的":{"docs":{},"文":{"docs":{},"件":{"docs":{},",":{"docs":{},"对":{"docs":{},"拷":{"docs":{},"贝":{"docs":{},"出":{"docs":{},"的":{"docs":{},"文":{"docs":{},"件":{"docs":{},"编":{"docs":{},"辑":{"docs":{},"不":{"docs":{},"会":{"docs":{},"影":{"docs":{},"响":{"docs":{},"源":{"docs":{},"文":{"docs":{},"件":{"docs":{},")":{"docs":{},",":{"docs":{},"会":{"docs":{},"是":{"docs":{},"深":{"docs":{},"拷":{"docs":{},"贝":{"docs":{},",":{"docs":{},"所":{"docs":{},"以":{"docs":{},"编":{"docs":{},"译":{"docs":{},"器":{"docs":{},"肯":{"docs":{},"定":{"docs":{},"会":{"docs":{},"为":{"docs":{},"你":{"docs":{},"创":{"docs":{},"建":{"docs":{},"一":{"docs":{},"个":{"docs":{},"新":{"docs":{},"的":{"docs":{},"对":{"docs":{},"象":{"docs":{},"并":{"docs":{},"返":{"docs":{},"回":{"docs":{},"给":{"docs":{},"你":{"docs":{},".":{"docs":{"copy.html":{"ref":"copy.html","tf":0.06666666666666667}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"b":{"docs":{},"l":{"docs":{},"o":{"docs":{},"c":{"docs":{},"k":{"docs":{},"中":{"docs":{},"c":{"docs":{},"o":{"docs":{},"p":{"docs":{},"y":{"docs":{},"和":{"docs":{},"b":{"docs":{},"l":{"docs":{},"o":{"docs":{},"c":{"docs":{},"k":{"docs":{},"加":{"docs":{},"载":{"docs":{"block.html":{"ref":"block.html","tf":10.125}}}}}}}}}}}}}}},"在":{"docs":{},"栈":{"docs":{},"中":{"docs":{},",":{"docs":{},"b":{"docs":{},"l":{"docs":{},"o":{"docs":{},"c":{"docs":{},"k":{"docs":{},"使":{"docs":{},"用":{"docs":{},"的":{"docs":{},"对":{"docs":{},"象":{"docs":{},"是":{"docs":{},"深":{"docs":{},"拷":{"docs":{},"贝":{"docs":{},",":{"docs":{},"在":{"docs":{},"堆":{"docs":{},"中":{"docs":{},"则":{"docs":{},"是":{"docs":{},"浅":{"docs":{},"拷":{"docs":{},"贝":{"docs":{"block.html":{"ref":"block.html","tf":0.125}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"如":{"docs":{},"果":{"docs":{},"b":{"docs":{},"l":{"docs":{},"o":{"docs":{},"c":{"docs":{},"k":{"docs":{},"不":{"docs":{},"是":{"docs":{},"c":{"docs":{},"o":{"docs":{},"p":{"docs":{},"y":{"docs":{},"(":{"docs":{},"默":{"docs":{},"认":{"docs":{},"栈":{"docs":{},"区":{"docs":{},")":{"docs":{},"的":{"docs":{},",":{"docs":{},"那":{"docs":{},"么":{"docs":{},"b":{"docs":{},"l":{"docs":{},"o":{"docs":{},"c":{"docs":{},"k":{"docs":{},"加":{"docs":{},"载":{"docs":{},"到":{"docs":{},"代":{"docs":{},"码":{"docs":{},"区":{"docs":{},"即":{"docs":{},"完":{"docs":{},"成":{"docs":{},"了":{"docs":{},"c":{"docs":{},"o":{"docs":{},"p":{"docs":{},"y":{"docs":{},"一":{"docs":{},"个":{"docs":{},"新":{"docs":{},"对":{"docs":{},"象":{"docs":{},"的":{"docs":{},"过":{"docs":{},"程":{"docs":{},",":{"docs":{},"两":{"docs":{},"个":{"1":{"docs":{},"也":{"docs":{},"是":{"2":{"docs":{"block.html":{"ref":"block.html","tf":0.125}}},"docs":{}}}},"docs":{}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"用":{"docs":{},"到":{"docs":{},"了":{"docs":{},"对":{"docs":{},"象":{"docs":{},"自":{"docs":{},"己":{"docs":{},"(":{"docs":{},"p":{"docs":{},".":{"docs":{},"n":{"docs":{},"a":{"docs":{},"m":{"docs":{},"e":{"docs":{},")":{"docs":{},",":{"docs":{},"那":{"docs":{},"么":{"docs":{},"用":{"docs":{},"b":{"docs":{},"l":{"docs":{},"o":{"docs":{},"c":{"docs":{},"k":{"docs":{},"修":{"docs":{},"饰":{"docs":{},"(":{"docs":{},"浅":{"docs":{},"拷":{"docs":{},"贝":{"docs":{},")":{"docs":{},")":{"docs":{},"可":{"docs":{},"以":{"docs":{},"让":{"docs":{},"编":{"docs":{},"译":{"docs":{},"器":{"docs":{},"不":{"docs":{},"会":{"docs":{},"对":{"docs":{},"对":{"docs":{},"象":{"docs":{},"进":{"docs":{},"行":{"docs":{},"一":{"docs":{},"次":{"docs":{},"r":{"docs":{},"e":{"docs":{},"t":{"docs":{},"a":{"docs":{},"i":{"docs":{},"n":{"docs":{},"(":{"docs":{"block.html":{"ref":"block.html","tf":0.125}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"实":{"docs":{},"际":{"docs":{},"上":{"docs":{},"在":{"docs":{},"这":{"docs":{},"里":{"docs":{},",":{"docs":{},"b":{"docs":{},"l":{"docs":{},"o":{"docs":{},"c":{"docs":{},"k":{"docs":{},"在":{"docs":{},"还":{"docs":{},"没":{"docs":{},"有":{"docs":{},"调":{"docs":{},"用":{"docs":{},"之":{"docs":{},"前":{"docs":{},"已":{"docs":{},"经":{"docs":{},"加":{"docs":{},"载":{"docs":{},"到":{"docs":{},"代":{"docs":{},"码":{"docs":{},"区":{"docs":{},"了":{"docs":{},",":{"docs":{},"所":{"docs":{},"以":{"docs":{},"b":{"docs":{},"l":{"docs":{},"o":{"docs":{},"c":{"docs":{},"k":{"docs":{},"如":{"docs":{},"果":{"docs":{},"是":{"docs":{},"c":{"docs":{},"o":{"docs":{},"p":{"docs":{},"y":{"docs":{},"(":{"docs":{},"被":{"docs":{},"转":{"docs":{},"移":{"docs":{},"到":{"docs":{},"堆":{"docs":{},"区":{"docs":{},")":{"docs":{},"的":{"docs":{},",":{"docs":{},"就":{"docs":{},"已":{"docs":{},"经":{"docs":{},"对":{"docs":{},"d":{"docs":{},"进":{"docs":{},"行":{"docs":{},"了":{"docs":{},"一":{"docs":{},"次":{"docs":{},"新":{"docs":{},"的":{"docs":{},"引":{"docs":{},"用":{"docs":{},",":{"docs":{},"计":{"docs":{},"数":{"docs":{},"器":{"docs":{},"为":{"2":{"docs":{"block.html":{"ref":"block.html","tf":0.125}}},"docs":{}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"对":{"docs":{},"n":{"docs":{},"u":{"docs":{},"m":{"docs":{},"进":{"docs":{},"行":{"docs":{},"b":{"docs":{},"l":{"docs":{},"o":{"docs":{},"c":{"docs":{},"k":{"docs":{},"修":{"docs":{},"饰":{"docs":{},",":{"docs":{},"则":{"docs":{},"进":{"docs":{},"行":{"docs":{},"得":{"docs":{},"是":{"docs":{},"浅":{"docs":{},"拷":{"docs":{},"贝":{"docs":{},",":{"docs":{},"对":{"docs":{},"原":{"docs":{},"有":{"docs":{},"对":{"docs":{},"象":{"docs":{},"计":{"docs":{},"数":{"docs":{},"器":{"docs":{},"+":{"1":{"docs":{},",":{"docs":{},"不":{"docs":{},"会":{"docs":{},"产":{"docs":{},"生":{"docs":{},"新":{"docs":{},"的":{"docs":{},"对":{"docs":{},"象":{"docs":{"block.html":{"ref":"block.html","tf":0.125}}}}}}}}}}}},"docs":{}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"属":{"docs":{},"性":{"docs":{},"进":{"docs":{},"行":{"docs":{},"c":{"docs":{},"o":{"docs":{},"p":{"docs":{},"y":{"docs":{},"修":{"docs":{},"饰":{"docs":{},",":{"docs":{},"可":{"docs":{},"以":{"docs":{},"防":{"docs":{},"止":{"docs":{},"外":{"docs":{},"界":{"docs":{},"修":{"docs":{},"改":{"docs":{},"内":{"docs":{},"部":{"docs":{},"数":{"docs":{},"据":{"docs":{"block.html":{"ref":"block.html","tf":0.125}}}}}}}}}}}}}}}}}}}}}}}}}},"跟":{"docs":{},"下":{"docs":{},"图":{"docs":{},"一":{"docs":{},"样":{"docs":{},")":{"docs":{"block.html":{"ref":"block.html","tf":0.125}}}}}}}}},"length":26},"corpusTokens":["(1)在initwithstring方法中内部机制实际上进行了copy,而copy分为深拷贝和浅拷贝","(2)copy方法又分为copy和mutablecopy,copy默认告诉编译器我要你生成不可变对象,mutable生成可变对象","(3)","alloc","block中copy和block加载","block在栈中,block使用的对象是深拷贝,在堆中则是浅拷贝","copi","copy机制与initwithstring原理","init了新的对象,所以这个方法不管怎么样,都会返回一个新的对象给你接收initwithstring:","init或类工厂方法创建对象时存储在堆区,需要内存管理,该方式会生成新对象或只是对原有对象进行引用,具体是由xcode版本或是平台(ios,mac","introduct","ocfoundationnot","os)即编译器决定的,可以自己测试编译器机制.","同理,若接收的是可变对象,两个对象性质不一样,就会创建新的对象返回给你,是深拷贝.","在stringwithformat中的内部机制实际上是","如果block不是copy(默认栈区)的,那么block加载到代码区即完成了copy一个新对象的过程,两个1也是2","如果block用到了对象自己(p.name),那么用block修饰(浅拷贝))可以让编译器不会对对象进行一次retain(","学习oc基础教程的笔记","实际上在这里,block在还没有调用之前已经加载到代码区了,所以block如果是copy(被转移到堆区)的,就已经对d进行了一次新的引用,计数器为2","对num进行block修饰,则进行得是浅拷贝,对原有对象计数器+1,不会产生新的对象","对属性进行copy修饰,可以防止外界修改内部数据","我的理解应该是对的","用常量创建方式,存储指针存储在常量区,不需要内存管理.","若你传入的是不可变对象,接受的是不可变对象,考虑到拷贝的意义(不管你需求怎么样,传入和接收的都是不可变的,这个拷贝没有意义,实际上这是编译器的优化),所以这是浅拷贝,不会返回新的对象,但是会让你的指针和传入对象的指针指向同一个对象.","若你传入的是可变对象,接收的是不可变对象或是可变对象,考虑到拷贝的意义(拷贝不会影响源文件,对源文件编辑不会影响拷贝出的文件,对拷贝出的文件编辑不会影响源文件),会是深拷贝,所以编译器肯定会为你创建一个新的对象并返回给你.","跟下图一样)"],"pipeline":["stopWordFilter","stemmer"]},"store":{"./":{"url":"./","title":"Introduction","keywords":"","body":"ocfoundationnote\n学习OC基础教程的笔记\n"},"copy.html":{"url":"copy.html","title":"copy机制与initWithString原理","keywords":"","body":"copy机制与initWithString原理\n我的理解应该是对的\nCopy\n\n用常量创建方式,存储指针存储在常量区,不需要内存管理.\ninit或类工厂方法创建对象时存储在堆区,需要内存管理,该方式会生成新对象或只是对原有对象进行引用,具体是由xcode版本或是平台(iOS,Mac OS)即编译器决定的,可以自己测试编译器机制.\n(1)在initWithString方法中内部机制实际上进行了copy,而copy分为深拷贝和浅拷贝\n(2)copy方法又分为copy和mutableCopy,copy默认告诉编译器我要你生成不可变对象,mutable生成可变对象\n(3) 在stringWithFormat中的内部机制实际上是 alloc init了新的对象,所以这个方法不管怎么样,都会返回一个新的对象给你接收initWithString:\n\n若你传入的是可变对象,接收的是不可变对象或是可变对象,考虑到拷贝的意义(拷贝不会影响源文件,对源文件编辑不会影响拷贝出的文件,对拷贝出的文件编辑不会影响源文件),会是深拷贝,所以编译器肯定会为你创建一个新的对象并返回给你.\n若你传入的是不可变对象,接受的是不可变对象,考虑到拷贝的意义(不管你需求怎么样,传入和接收的都是不可变的,这个拷贝没有意义,实际上这是编译器的优化),所以这是浅拷贝,不会返回新的对象,但是会让你的指针和传入对象的指针指向同一个对象.\n同理,若接收的是可变对象,两个对象性质不一样,就会创建新的对象返回给你,是深拷贝.\n\n"},"block.html":{"url":"block.html","title":"block中copy和block加载","keywords":"","body":"block中copy和block加载\nblock在栈中,block使用的对象是深拷贝,在堆中则是浅拷贝\n\n\n对属性进行copy修饰,可以防止外界修改内部数据\n\n\n实际上在这里,block在还没有调用之前已经加载到代码区了,所以block如果是copy(被转移到堆区)的,就已经对d进行了一次新的引用,计数器为2\n如果block不是copy(默认栈区)的,那么block加载到代码区即完成了copy一个新对象的过程,两个1也是2\n\n\n如果block用到了对象自己(p.name),那么用block修饰(浅拷贝))可以让编译器不会对对象进行一次retain( 跟下图一样) 对num进行block修饰,则进行得是浅拷贝,对原有对象计数器+1,不会产生新的对象\n\n"}}}